<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/8e9d7e365b.js" crossorigin"anonymous"></script>
  <!-- jquery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap date picker -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <style>
    body {
      padding: 60px;
      background-color: #E6EDf5;
      width: 100% height: 100vh;
    }

    /* div {
      border: solid 1px red;
    } */

    h4 {
      padding: 0px 15px 0px 0px;
      margin-bottom: 0;
    }

    h5 {
      padding: 0px 0px 10px 0px;

    }

    nav span {
      margin: 0 0 0 15px;
    }

    section {
      padding: 15px 11px;
    }

    .btn:focus {
      outline: none;
      box-shadow: none;
    }

    .btn-combine {
      float: left;
      margin: 10px 0;
    }

    .btn-reset {
      float: right;
      margin: 10px 0;
    }

    .container-fluid {
      padding-left: 0;
      padding-right: 0;
    }

    .divider {
      width: 80%;
      margin: auto;
    }

    .fa-icon {
      color: #616161;
    }

    .fas-nav {
      padding: 0 0 0 34px;
    }

    .form-select {
      color: #71869A;
    }

    .form-control::placeholder {
      color: #CCCCCC;
      opacity: 1;
    }

    .navbar {
      border-bottom: 1px solid grey;
      background-color: #D8E2ED;
    }

    .nav-footer {
      border-top: 1px solid grey;
      background-color: #D8E2ED;
    }

    .divider-calculator {
      margin-top: 3rem;
    }

    .row {
      margin-bottom: 15px;
    }

    .footer {
      margin: 0 2rem;
      font-size: .75rem;
    }

    #inputCancelType {
      display=none;
    }
  </style>

  <title>Notator v.4</title>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
      <div class="container-fluid">
        <i class="fas fa-ghost fa-2x fas-nav"></i>
        <h4><span>Wireless Care Notator</span></h4>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span>Team</span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#" onclick="return show('CAS', 'Messaging','retailSupport', 'Treatment', 'postProration', 'preProration', 'Instructions');">CAS</a></li>
                <li><a class="dropdown-item" href="#" onclick="return show('Messaging', 'CAS','retailSupport', 'Treatment', 'postProration', 'preProration', 'Instructions');">Messaging</a></li>
                <li><a class="dropdown-item" href="#" onclick="return show('retailSupport', 'Messaging','CAS', 'Treatment', 'postProration', 'preProration', 'Instructions');">Retail Support</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span>Calculators</span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#" onclick="return show('Treatment', 'Messaging','retailSupport', 'CAS', 'postProration', 'preProration', 'Instructions');">Treatment</a></li>
                <li><a class="dropdown-item" href="#" onclick="return show('preProration', 'Messaging','retailSupport', 'Treatment', 'CAS', 'postProration', 'Instructions');">Pre-paid Proration</a></li>
                <li><a class="dropdown-item" href="#" onclick="return show('postProration', 'Messaging','retailSupport', 'Treatment', 'CAS', 'preProration', 'Instructions');">Post-paid Proration</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" onclick="return show('Instructions', 'Messaging','retailSupport', 'Treatment', 'postProration', 'preProration', 'CAS');"><span>Instructions</span></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Beginning of pages -->

  <section id="CAS">
    <h5>Customer Account Specialist</h5>
    <form id="notatorForm">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-6">
            <div class="row">
              <div class="col-6">
                <div class="input-group g-3">
                  <div class="input-group-text"><i class="fas fa-user fa-icon"></i></div>
                  <label for="inputName" class="visually-hidden">Full Name</label>
                  <input type="text" class="form-control" id="inputName" placeholder="Customer's First and Last Name">
                </div>
              </div>
              <div class="col-6">
                <div class="input-group g-3">
                  <div class="input-group-text"><i class="fas fa-phone fa-icon"></i></div>
                  <label for="inputMsisdn" class="visually-hidden">MSISDN</label>
                  <input type="numbers" class="form-control" id="inputMsisdn" placeholder="Customer's Phone #">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <div class="input-group g-3">
                  <div class="input-group-text"><i class="fas fa-hashtag fa-icon"></i></div>
                  <label for="inputContactId" class="visually-hidden">Contact ID</label>
                  <input type="numbers" class="form-control" id="inputContactId" placeholder="Conversation ID or Calabrio ID">
                </div>
              </div>
              <div class="col-6">
                <div class="input-group g-3">
                  <div class="input-group-text"><i class="fas fa-lock fa-icon"></i></div>
                  <select class="form-select" aria-label="Default select example" id="inputVerification">
                    <option selected>Was this customer verified?</option>
                    <option value="Yes, with PIN">Yes, with PIN</option>
                    <option value="Yes, with MFA and PIN reset">Yes, with MFA and PIN reset</option>
                    <option value="No, wrong PIN">No, wrong PIN</option>
                    <option value="No, unauthorized">No, unauthorized</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <hr class="divider">
            </div>
            <div class="row">
              <div class="col-12">
                <label for="inputProblem" class="visually-hidden">Problem</label>
                <textarea rows="2" cols="10" class="form-control" id="inputProblem" placeholder="Reason for the customer's call"></textarea>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <label for="inputAction" class="visually-hidden">Actions</label>
                <textarea rows="6" cols="10" class="form-control" id="inputAction" placeholder="Actions you took and information you gave"></textarea>
              </div>
            </div>

            <!-- Specialized Call Fields -->
            <div class="row">
              <hr class="divider">
            </div>
            <div class="row">
              <div class="col-6">
                <div class="input-group g-3">
                  <div class="input-group-text"><i class="fas fa-hat-wizard fa-icon"></i></div>
                  <select class="form-select" aria-label="Default select example" id="inputSpecialTopic">
                    <option selected>Select a specialized topic</option>
                    <option value="Loyalty">Loyalty</option>
                    <option value="Tech">Technical Support</option>
                    <option value="Treatment">Treatment</option>
                    <option value="Vacation">Vacation Suspend</option>
                  </select>
                </div>
              </div>
              <div class="col-6">
                <!-- Loyalty fields -->
                <div class="input-group g-3 temporary" id="cancelType">
                  <div class="input-group-text"><i class="fas fa-frown-open fa-icon"></i></div>
                  <select class="form-select" aria-label="Default select example" id="inputCancelType">
                    <option selected>Cancellation Type</option>
                    <option value="1">Cancellation</option>
                    <option value="2">Cancellation with MyTab</option>
                    <option value="3">Port-Out</option>
                    <option value="4">Port-Out with MyTab</option>
                  </select>
                </div>
                <!-- tech fields -->
                <div class="input-group g-3 temporary" id="techType">
                  <div class="input-group-text"><i class="fas fa-cogs fa-icon"></i></div>
                  <select class="form-select" aria-label="Default select example"  id="inputTechType">
                    <option selected>Tech question</option>
                    <option value="1">whatever</option>
                    <option value="2">also</option>
                    <option value="3">thing</option>
                    <option value="4">turn it off and on</option>
                  </select>
                </div>
                <!-- Treatment -->
                <div class="input-group g-3 temporary" id="lastBroken">
                  <div class="input-group-text"><i class="fas fa-calendar-times fa-icon"></i></div>
                  <label></label>
                  <input type="text" id="inputLastBroken" class="form-control" placeholder="Last broken PTP">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <div class="input-group g-3 temporary" id="payAmount">
                  <div class="input-group-text"><i class="fas fa-dollar-sign fa-icon"></i></div>
                  <label for="inputMsisdn" class="visually-hidden">Payment Amount</label>
                  <input type="numbers" class="form-control" id="inputPayAmount" placeholder="Amount to be paid">
                </div>
              </div>
              <div class="col-6">
                <div class="input-group g-3 temporary" id="payMethod">
                  <div class="input-group-text"><i class="fas fa-donate fa-icon"></i></div>
                  <select class="form-select" aria-label="Default select example" id="inputPayMethod">
                    <option selected>Method of payment</option>
                    <option value="Bank">Bank</option>
                    <option value="Customer Care">Customer Care</option>
                    <option value="MyAccount">MyAccount</option>
                    <option value="Retail">Retail</option>
                    <option value="Unknown">Unknown</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="row temporary" id="treatmentChecks">
              <div class="col-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="I informed them that payment must be received within 7 days." id="checkPayBefore">
                  <label class="form-check-label" for="checkPayBefore">
                    I informed them that payment must be received within 7 days.
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="I informed them we will not accept another Promise to Pay for 90 days if they miss this payment." id="checkBroken90">
                  <label class="form-check-label" for="checkBroken90">
                    I informed them we will not accept another Promise to Pay for 90 days if they miss this payment.
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="I informed them that cash payments may take up to 24 hours." id="checkCash24">
                  <label class="form-check-label" for="checkCash24">
                    I informed them that cash payments may take 24 hours.
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="I informed them that bank payments may take 3 - 5 business days." id="check3Business">
                  <label class="form-check-label" for="check3Business">
                    I informed them that bank payments may take 3 - 5 business days.
                  </label>
                </div>
              </div>
            </div>

            <!-- end of form, leave it -->
          </div>

          <!-- Output box and buttons -->
          <div class="col-lg-6">
            <label for="casOutput" class="visually-hidden">Note</label>
            <textarea rows="15" cols="10" class="form-control" id="casOutput" placeholder="Your notes will appear here when you click Combine"></textarea>
            <div class="">
              <button id="copy-btn" onclick="formsCombine()" class="btn btn-secondary btn-combine" type="button">Combine & Copy</button>
              <button class="btn btn-secondary btn-reset justify-content-md-end" type="button" value="reset" onClick="resetForm()">Reset</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>



  <section id="retailSupport" style="display:none">
    <h5>Retail Support</h5>
  </section>

  <section id="Messaging" style="display:none">
    <h5>Messaging</h5>
  </section>

  <section id="Treatment" style="display:none">
    <h5>Treatment Calculator</h5>
  </section>

  <section id="postProration" style="display:none">
    <h5>Post-paid Proration Calculator</h5>
    <!-- Postpaid calculator -->
    <form id="postpaidProration">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3 temporary">
              <div class="input-group-text"><i class="fas fa-calendar-check fa-icon"></i></div>
              <select class="form-select" aria-label="Default select" id="prorationCycle">
                <option selected>Billing Cycle Date</option>
                <option value="1">5th</option>
                <option value="2">10th</option>
                <option value="3">15th</option>
                <option value="3">20th</option>
                <option value="3">25th</option>
              </select>
            </div>
            <br>more calculator here..
          </div>

        </div>
      </div>
      </div>
    </form>
  </section>

  <section id="preProration" style="display:none">
    <h5>Pre-paid Proration Calculator</h5>
    <form id="prepaidProration">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3 temporary">
              <div class="input-group-text"><i class="fas fa-calendar fa-icon"></i></div>
              <select class="form-select" aria-label="Default select" id="prorationPeriod">
                <option selected>Days until next top-up date?</option>
                <option value="33">1 - 10 days remaining</option>
                <option value="66">11 - 20 days remaining</option>
                <option value="99">21 - 30 days remaining</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3">
              <div class="input-group-text"><i class="fas fa-dollar-sign fa-icon"></i></div>
              <label for="inputPrepaidRatePlan" class="visually-hidden">Rate plan price</label>
              <input type="numbers" class="form-control" id="inputPrepaidRatePlan" placeholder="Price of the item">
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3">
          <div class="">
            <button id="pp-calc-btn" onclick="prepaidCalculator()" class="btn btn-secondary btn-combine" type="button">Calculate</button>
            <button class="btn btn-secondary btn-reset justify-content-md-end" type="button" value="reset" onClick="resetPreCalc()">Reset</button>
          </div>
        </div>

      </div>
      <div class="row">
        <div class="col-lg-3">
          <div class="input-group g-3">
            <div class="input-group-text"><i class="fas fa-equals fa-icon"></i></div>
            <label for="inputPrepaidRatePlan" class="visually-hidden">Rate plan price</label>
            <input type="text" class="form-control" id="prepaidCalcResult" placeholder="Amount to pay">
          </div>
      
        </div>

      </div>

      </div>
    </form>


  </section>

  <section id="Instructions" style="display:none">
    <h5>Notator Instructions</h5>
  </section>

  <!-- Footer -->

  <nav class="navbar fixed-bottom navbar-light nav-footer d-flex justify-content-end">
    <div class="footer">V.4.01</div>
    <div class="footer" id="d20" onclick="randomTwenty()">[ 20 ]</div>
    <div class="footer" id="lastModified">
    </div>
  </nav>



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

  <script>
    // Nav show and hide pages
    function show(shown, hidden, hidden2, hidden3, hidden4, hidden5, hidden6, hidden7) {
      document.getElementById(shown).style.display = 'block';
      document.getElementById(hidden).style.display = 'none';
      document.getElementById(hidden2).style.display = 'none';
      document.getElementById(hidden3).style.display = 'none';
      document.getElementById(hidden4).style.display = 'none';
      document.getElementById(hidden5).style.display = 'none';
      document.getElementById(hidden6).style.display = 'none';
      document.getElementById(hidden7).style.display = 'none';
      return false;
    }

    // Combine & Copy Form textbox
    function formsCombine() {
      var cxName = document.getElementById("inputName").value;
      var cxMsisdn = document.getElementById("inputMsisdn").value;
      var contactId = document.getElementById("inputContactId").value;
      var cxVerify = document.getElementById("inputVerification").value;
      var cxProblem = document.getElementById("inputProblem").value;
      var cxAction = document.getElementById("inputAction").value;
      var callType = document.getElementById("inputSpecialTopic").value;
      var cxBroken = document.getElementById("inputLastBroken").value;
      var cxPay = document.getElementById("inputPayAmount").value;
      var cxMethod = document.getElementById("inputPayMethod").value;
      var cxCheckPayBefore = document.getElementById("checkPayBefore").checked;
      var cxCheckBroken90 = document.getElementById("checkBroken90").checked;
      var cxcheckCash24 = document.getElementById("checkCash24").checked;
      var cxcheck3Business = document.getElementById("check3Business").checked;

      var output = 'Problem: ' + cxProblem + "\n\n";
      if (callType === "Loyalty" || callType === "Tech" || callType === "Treatment") {
        output += 'Call Type: ' + callType + "\n";
      }
      output += 'Name: ' + cxName + "\n";
      output += 'MSISDN: ' + cxMsisdn + "\n";
      output += 'Verification: ' + cxVerify + "\n";
      output += 'Contact ID: ' + contactId + "\n\n";
      output += 'Action: ' + cxAction + "\n\n";
      if (callType === "Treatment") {
        output += 'Last Broken PTP: ' + cxBroken + "\n";
        output += 'Will pay: $' + cxPay + "\n";
        output += 'Payment method: ' + cxMethod + "\n";
      }
      if (cxCheckPayBefore === true && callType === "Treatment") {
        output += "- " + checkPayBefore.getAttribute('value') + "\n";
      }
      if (cxCheckBroken90 === true && callType === "Treatment") {
        output += "- " + checkBroken90.getAttribute('value') + "\n";
      }
      if (cxcheckCash24 === true && callType === "Treatment") {
        output += "- " + checkCash24.getAttribute('value') + "\n";
      }
      if (cxcheck3Business === true && callType === "Treatment") {
        output += "- " + check3Business.getAttribute('value') + "\n";
      }


      document.getElementById('casOutput').value = output;
      navigator.clipboard.writeText(output);

      var copyBtn = document.getElementById("copy-btn");
      copyBtn.innerHTML = "Copied"
      setTimeout(function() {
        copyBtn.innerHTML = "Combine & Copy"
      }, 5000)
    }

    // reset button
    function resetForm() {
      document.getElementById("notatorForm").reset();
      $('.temporary').hide();
    }

    // CA form display, or not
    $("#inputSpecialTopic").change(function() {
      if ($(this).val() == "Loyalty") {
        $('#cancelType').show();
        $('#techType').hide();
        $('#lastBroken').hide();
        $('#payAmount').hide();
        $('#payMethod').hide();
        $('#treatmentChecks').hide();
      } else if ($(this).val() == "Tech") {
        $('#cancelType').hide();
        $('#techType').show();
        $('#lastBroken').hide();
        $('#payAmount').hide();
        $('#payMethod').hide();
        $('#treatmentChecks').hide();
      } else if ($(this).val() == "Treatment") {
        $('#cancelType').hide();
        $('#techType').hide();
        $('#lastBroken').show();
        $('#payAmount').show();
        $('#payMethod').show();
        $('#treatmentChecks').show();
      } else {
        $('#cancelType').hide();
        $('#techType').hide();
        $('#lastBroken').hide();
        $('#payAmount').hide();
        $('#payMethod').hide();
        $('#treatmentChecks').hide();
      }
    });
    $("#inputSpecialTopic").trigger("change");

    // date picker
    $(document).ready(function() {
      $('#inputLastBroken').datepicker({
        autoclose: true,
        todayHighlight: true,
        format: "D, MM d",
      });
    });

    // Nothing important
    function randomTwenty() {
      let d = document.querySelector("#d20");
      d.innerText = "[ " + (Math.floor(Math.random(20) * 20) + 1) + " ]";
    }

    // date modified calculation
    let date = document.lastModified;
    date = date.split(' ')[0];
    document.querySelector("#lastModified").innerText = date;

    // Pre-Paid calculator
    function prepaidCalculator() {
      let daysRemaining = document.getElementById("prorationPeriod").value;
      let prepaidRate = document.getElementById("inputPrepaidRatePlan").value;
      let prepaidAmountPay = ""
      if (daysRemaining === "33") {
        prepaidAmountPay = (prepaidRate * 0.3333333).toFixed(2);
      } else if (daysRemaining === "66") {
        prepaidAmountPay = (prepaidRate * 0.6666666).toFixed(2);
      } else if (daysRemaining === "99") {
        prepaidAmountPay = (prepaidRate * 0.9999999).toFixed(2);
      }

      let outputPre = '$' + prepaidAmountPay;
      document.getElementById('prepaidCalcResult').value = outputPre;
    }

    function resetPreCalc() {
      document.getElementById("prepaidProration").reset();
    }
  </script>
</body>

</html>
