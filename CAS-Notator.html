<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      background-color: #FFFFFF;
      width: 100%;
      height: 100vh;
      font-family: "calibri", sans-serif;
      font-size: 18px;
    }

    /* div {
      border: 1px solid pink;
    } */

    input[type="text"],
    textarea,
    select {
      outline: none !important;
      box-shadow: none;
    }

    input[type="date"]:before {
      content: attr(placeholder) !important;
      color: #aaa;
      margin-right: 0.5em;
    }

    input[type="date"]:focus:before,
    input[type="date"]:valid:before {
      content: "";
    }

    input[type="month"]:before {
      content: attr(placeholder) !important;
      /* color: #aaa; */
      margin-right: 0.5em;
    }

    input[type="month"]:focus:before,
    input[type="month"]:valid:before {
      content: "";
    }

    section {
      padding: 0 0 200px 0;
      min-height: 660px;
    }

    /* Themes */

    .theme-bluer:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      border: 1px solid #DDDDDD;
      background-color: #c7e2f373;
      box-shadow: 0 0 5px rgba(81, 203, 238, 1);
      border: 1px solid rgba(81, 203, 238, 1);
    }

    .theme-bluer {
      background-color: #c7e2f373;
    }

    .theme-coal:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      background-color: #4a463f84;
      box-shadow: none;
      border: 1px solid #322f29;
    }

    .theme-coal {
      background-color: #4a463f84;
      color: #c4cccc;
      border: 1px solid #DDDDDD;
    }


    .theme-seafoam:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      border: 1px solid #DDDDDD;
      background-color: #3DED9722;
      box-shadow: 0 0 5px rgba(61, 237, 151, 1);
      border: 1px solid rgba(61, 237, 151, 1);
    }

    .theme-seafoam {
      background-color: #3DED9722;
    }

    .theme-pinker:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      border: 1px solid #db86e8;
      background-color: #f2a9ed22;
      box-shadow: 0 0 5px #db86e8;
      border: 1px solid #db86e8;
    }

    .theme-pinker {
      background-color: #f2a9ed22;
    }

    .theme-plain {
      background-color: #CCCCCC22;
      border: 1px solid #4a463f55;
    }

    .theme-plain:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      background-color: #CCCCCC22;
      box-shadow: none;
      border: 1px solid #4a463fd9;
    }

    .theme-violet:focus {
      -webkit-transition: all 0.30s ease-in-out;
      -moz-transition: all 0.30s ease-in-out;
      -ms-transition: all 0.30s ease-in-out;
      -o-transition: all 0.30s ease-in-out;
      border: 1px solid #C933EA;
      background-color: #D18CE033;
      box-shadow: 0 0 5px #C933EA;
      border: 1px solid #C933EA;
    }

    .theme-violet {
      background-color: #D18CE033;
    }

    /* end of themes */

    .btn:focus {
      outline: none;
      box-shadow: none;
    }

    .btn-combine {
      float: left;
      margin: 0px 40px 0 0;
    }

    .btn-pair {
      display: flex;
      justify-content: space-evenly;
      flex-basis: auto;
    }

    .btn-loyalty-fm {
      justify-content: space-evenly;
      flex-basis: auto;
      color: #EC7F23;
      background-color: #CCCCCC22;
    }

    .btn-loyalty-sm {
      justify-content: space-evenly;
      flex-basis: auto;
      color: #00C5DE;
      background-color: #CCCCCC22;
    }

    .check-middle {
      float: left;
      margin-top: 7px;
      margin-left: 10px;
    }

    .btn-reset {
      float: right;
      margin: 0px 0;
    }

    .container-fluid {
      padding-left: 0;
      padding-right: 0;
    }

    .footer {
      margin: 0 0.1rem;
      font-size: .75rem;
      padding: 0.3rem;
    }

    .footerbtns {
      margin: 0 5px 0 5px;
    }

    .form-select {
      /* color: black; */
      outline: none;
      box-shadow: none;
    }

    .form-control::placeholder {
      color: #AAAAAA;
      opacity: 1;
    }

    .hidden {
      display: none;
      margin: 10px 20px;
    }

    .cdchange {
      margin: 0 15px;
    }

    .cdchange-hidden {
      margin: 0 15px;
      display: none;
    }

    .cdchidden {
      display: none;
      margin: 10px 0px;
    }

    .check-indent {
      margin-left: 40px;
    }

    .cdchiddenAddress {
      display: none;
    }

    .cdchiddenAddress-inputs {
      margin: 10px 0px;
    }


    .vphidden {
      display: none;
      margin: 10px 20px;
    }

    .rpchidden {
      display: none;
      margin: 10px 20px;
    }

    .history {
      white-space: pre-wrap;
      overflow: auto;
      max-height: 600px;
    }

    .material-icons.grey-icons {
      color: #61616E;
    }

    .material-icons.green-icons {
      color: #65C18C;
    }

    .material-icons.red-icons {
      color: #E02401;
    }

    .nav-footer {
      border: 1px solid #616161;
      background-color: #E9ECEF;
      font-size: .75rem;
    }

    .ptpWarning {
      color: red;
      text-align: center;
      margin-bottom: 0px;
      display: none;
    }

    .row {
      margin-bottom: 15px;
    }

    .selectmenu {
      color: #aaaaaa;
    }

    .selectedmenu {
      color: #000000 !important;
    }

    .verbatim-box {
      border: 1px solid #CED4DA;
      display: none;
      padding: 10px;
    }

    .verbatim-ptp {
      border: 1px solid #CED4DA;
      padding: 10px;
      margin-bottom: 10px;
    }

    .verbatim-rpc {
      border: 1px solid #CED4DA;
      padding: 10px;
      display: none;
    }

    .verbatim-vp {
      border: 1px solid #CED4DA;
      padding: 10px;
      display: none;
    }

    .warning {
      color: #E02401;
      text-align: center;
      margin-bottom: 0px;
      display: none;
    }
  </style>

<body>
  <div id="notator">
    <section id="CAS">
      <form id="notatorForm">
        <div class="container-fluid">
          <div class="row">
            <!-- column a -->
            <div class="col-lg-7">
              <div class="row">
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-name" class="material-icons grey-icons">account_circle</span></div>
                    <label for="inputName" class="visually-hidden"></label>
                    <input type="text" class="form-control theme-plain themed" id="inputName" placeholder="First and Last Name">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-caller" class="material-icons grey-icons">local_phone</span></div>
                    <label for="inputCaller" class="visually-hidden">Caller Phone#</label>
                    <input type="text" class="form-control theme-plain themed" id="inputCaller" placeholder="Caller Phone #">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-msisdn" class="material-icons grey-icons">local_phone</span></div>
                    <label for="inputMsisdn" class="visually-hidden">MSISDN</label>
                    <input type="text" class="form-control theme-plain themed" id="inputMsisdn" placeholder="Acct MSISDN">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-status" class="material-icons grey-icons">back_hand</span></div>
                    <select class="form-select theme-plain themed selectmenu" id="inputStatus" title="test">
                      <option selected value="">CX Status</option>
                      <option value="Account Holder">Account Holder</option>
                      <option value="Authorized User">Authorized User</option>
                      <option value="Device User">Device User</option>
                      <option value="Not Authorized">Not Authorized</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-verify" class="material-icons grey-icons">lock</span></div>
                    <select class="form-select theme-plain themed selectmenu" aria-label="Default select example" id="inputVerification">
                      <option selected value="">Verification</option>
                      <option value="Yes, with PIN">Yes, with PIN</option>
                      <option value="Yes, with MFA SMS">Yes, with MFA SMS</option>
                      <option value="Yes, with MFA Email">Yes, with MFA Email</option>
                      <option value="No, wrong PIN">No, wrong PIN</option>
                      <option value="No, unverified">No, unverified</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-conversation" class="material-icons grey-icons">tag</span></div>
                    <label for="inputContactId" class="visually-hidden">Contact ID</label>
                    <input type="text" class="form-control theme-plain themed" id="inputContactId" placeholder="Conversation ID">
                  </div>
                </div>
              </div>
              <div class="row warning">
                <div class="col-lg-12">
                  <p><strong>This customer may not be given any information from the account!</strong></p>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <label for="inputProblem" class="visually-hidden">Problem</label>
                  <textarea rows="4" cols="10" class="form-control theme-plain themed" id="inputProblem" placeholder="Primary reason for the customer's call"></textarea>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <label for="inputAction" class="visually-hidden">Actions</label>
                  <textarea rows="10" cols="10" class="form-control theme-plain themed" id="inputAction" placeholder="Actions you took and information you gave"></textarea>
                </div>
              </div>
              <!-- Specialized Call Fields -->
              <div class="row">
                <div class="col-lg-6">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-specialized" class="material-icons grey-icons">grade</span></div>
                    <select class="form-select theme-plain themed" aria-label="Default select example" id="inputSpecialTopic" onclick="ptpDueDate()">
                      <option selected>Select a specialized topic</option>
                      <option value="Contact Details Change">Contact Details Change</option>
                      <option value="Loyalty">Loyalty</option>
                      <option value="Outage">Outage Refund</option>
                      <option value="Promise to Pay">Promise to Pay</option>
                      <option value="Rate Plan Change">Rate Plan Change</option>
                      <option value="Technical Support">Technical Support</option>
                      <option value="Vacation Pass">Vacation Pass</option>
                    </select>
                  </div>
                </div>
                <!-- Specialized 1st column -->
                <div class="col-lg-6">
                  <div class="input-group g-3 temporary group-ptp" id="lastBroken">
                    <div class="input-group-text"><span class="material-icons grey-icons"></span></div>
                    <label for="inputLastBroken" class="visually-hidden"></label>
                    <input type="date" class="form-control theme-plain themed" id="inputLastBroken" placeholder="Last Broken:">
                  </div>
                  <div class="input-group g-3 temporary group-outage" id="outageMonthlyCharge">
                    <div class="input-group-text"><span id="icon-outage-monthly" class="material-icons grey-icons">attach_money</span></div>
                    <label for="inputOutageMonthlyCharge" class="visually-hidden">Monthly Charge</label>
                    <input type="number" class="form-control theme-plain themed" id="inputOutageMonthlyCharge" placeholder="Customer's monthly charge">
                  </div>
                  <div class="form-check check-middle temporary group-rate-plan-change">
                    <input class="form-check-input" type="checkbox" value="This is just a Quote. I'm not changing the Rate Plan now." id="rpcQuote">
                    <label class="form-check-label" for="rpcQuote"> This is just a Quote</label>
                  </div>
                  <div class="form-check check-middle temporary group-contact-change">
                    <input class="form-check-input" type="checkbox" value="MFA verified before making changes" id="contact-change-mfa">
                    <label class="form-check-label" for="contact-change-mfa"> MFA verified before making changes</label>
                  </div>
                  <div class="temporary group-loyalty">
                    <div class="btn-pair">
                      <a href="https://freedomcustomercare.yonyx.com/y/conversation/?id=6b707b90-3365-11ec-9d93-4201c0a80112&lang=en" target="_blank" class="btn btn-outline-secondary btn-loyalty-fm col-5" type="button"><strong>FM Loyalty
                          Tool</strong></a>
                      <a href="https://freedomcustomercare.yonyx.com/y/conversation/?id=6b707b90-3365-11ec-9d93-4201c0a80112&lang=en" target="_blank" class="btn btn-outline-secondary btn-loyalty-sm col-5" type="button"><strong>SM Not Yet
                          Tool</strong></a>
                    </div>
                  </div>
                  <div class="temporary group-tech">
                    <div class="btn-pair">
                      <a href="https://freedomcustomercare.yonyx.com/y/conversation/?id=9f9b9260-8d4a-11e9-aded-4201c0a8014e" target="_blank" class="btn btn-outline-secondary btn-loyalty-fm col-5" type="button"><strong>FM Tech Support</strong></a>
                      <a href="https://freedomcustomercare.yonyx.com/y/portal/?id=85efb890-6819-11e6-b7ab-bc764e10c19d" target="_blank" class="btn btn-outline-secondary btn-loyalty-sm col-5" type="button"><strong>SM Tech Support</strong></a>
                    </div>
                  </div>
                  <div class="temporary group-vacation-pass">
                    <div class="btn-pair">
                      <a href="https://thepipe.sjrb.ca/docs/DOC-143600" target="_blank" class="btn btn-outline-secondary btn-loyalty-fm col-5" type="button" alt="SOP"><strong>FM SOP</strong></a>
                      <a href="https://thepipe.sjrb.ca/docs/DOC-142180" target="_blank" class="btn btn-outline-secondary btn-loyalty-sm col-5" type="button"><strong>SM SOP</strong></a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Begin specialized row 1 -->
              <!-- PTP Row 1 -->
              <div class="row temporary group-ptp">
                <div class="col-lg-6">
                  <div class="input-group g-3" id="payAmount">
                    <div class="input-group-text"><span id="icon-ptp-pay" class="material-icons grey-icons">attach_money</span></div>
                    <label for="inputMsisdn" class="visually-hidden">Payment Amount</label>
                    <input type="text" class="form-control theme-plain themed" id="inputPayAmount" placeholder="Amount to be paid">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="input-group g-3" id="payMethod">
                    <div class="input-group-text"><span id="icon-ptp-method" class="material-icons grey-icons">credit_score</span></div>
                    <select class="form-select theme-plain themed" aria-label="Default select example" id="inputPayMethod">
                      <option selected>Method of payment</option>
                      <option value="Bank">Bank</option>
                      <option value="Customer Care">Customer Care</option>
                      <option value="MyAccount">MyAccount</option>
                      <option value="Retail">Retail</option>
                      <option value="Unknown">Unknown</option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- Outage Row 1 -->
              <div class="row temporary group-outage">
                <div class="col-lg-6">
                  <div class="input-group g-3 " id="outageLength">
                    <div class="input-group-text"><span id="icon-outage-length" class="material-icons grey-icons">event_busy</span></div>
                    <label for="inputOutageLength" class="visually-hidden">Outage Length</label>
                    <input type="number" class="form-control theme-plain themed" id="inputOutageLength" placeholder="Length of outage in days">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="">
                    <button id="outage-calc-btn" onclick="outageCalculator()" class="btn btn-secondary " type="button">Calculate Refund</button>
                  </div>
                </div>
              </div>
              <!-- Rate Plan Change Row 1 -->
              <div class="row temporary group-rate-plan-change">
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-rpc-account" class="material-icons grey-icons">group_work</span></div>
                    <select class="form-select theme-plain themed" aria-label="Default select example" id="inputRpcType">
                      <option selected>Account Type</option>
                      <option value="Postpaid">Postpaid</option>
                      <option value="Prepaid">Prepaid</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-rpc-remove" class="material-icons grey-icons">attach_money</span></div>
                    <label for="inputOldPlanPrice" class="visually-hidden">Removed Plan Price</label>
                    <input type="number" class="form-control theme-plain themed" id="inputOldPlanPrice" placeholder="Removing MRC">
                  </div>
                </div>

                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-rpc-new-price" class="material-icons grey-icons">attach_money</span></div>
                    <label for="inputNewPlanPrice" class="visually-hidden">New Plan Price</label>
                    <input type="number" class="form-control theme-plain themed" id="inputNewPlanPrice" placeholder="New MRC">
                  </div>
                </div>
              </div>
              <!-- Contact Details Change Row 1 -->
              <div class="row temporary group-contact-change">
                <div class="form-check check-middle cdchange check-indent">
                  <input class="form-check-input" type="checkbox" value="I changed the email" id="contact-change-email">
                  <label class="form-check-label" for="contact-change-email"> I changed the email.</label>
                </div>

                <div class="col-sm-6 cdchidden temporary">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-contact-old-email" class="material-icons grey-icons">unsubscribe</span></div>
                    <label for="cdcEmailOld" class="visually-hidden">Old Email</label>
                    <input type="text" class="form-control theme-plain themed" id="cdcEmailOld" placeholder="Old Email">
                  </div>
                </div>
                <div class="col-sm-6 cdchidden temporary">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-contact-new-email" class="material-icons grey-icons">mark_email_read</span></div>
                    <label for="cdcEmailNew" class="visually-hidden">New Email</label>
                    <input type="text" class="form-control theme-plain themed" id="cdcEmailNew" placeholder="New Email">
                  </div>
                </div>
              </div>
              <!-- loyalty row 1 -->
              <div class="row temporary group-loyalty">
                <div class="col-lg-12">
                  <label for="inputProblem" class="visually-hidden">Problem</label>
                  <textarea rows="4" cols="10" class="form-control theme-plain themed" id="inputYonyx" placeholder="Details from Loyalty Yonyx"></textarea>
                </div>
              </div>
              <!-- tech yonyx row 1 -->
              <div class="row temporary group-tech">
                <div class="col-lg-12">
                  <label for="inputProblem" class="visually-hidden">Problem</label>
                  <textarea rows="4" cols="10" class="form-control theme-plain themed" id="inputTechYonyx" placeholder="Details from Tech Support Yonyx"></textarea>
                </div>
              </div>
              <!-- vacation pass row 1 -->
              <div class="row temporary group-vacation-pass">
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-vp-cycle" class="material-icons grey-icons">group_work</span></div>
                    <select class="form-select theme-plain themed" id="inputVacationCycle">
                      <option selected>CX Cycle Date</option>
                      <option value="5th">5th</option>
                      <option value="10th">10th</option>
                      <option value="15th">15th</option>
                      <option value="20th">20th</option>
                      <option value="25th">25th</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-vp-start" class="material-icons grey-icons"></span></div>
                    <label for="inputVacationStart" class="visually-hidden">Start</label>
                    <input type="month" class="form-control theme-plain themed" id="inputVacationStart" placeholder="Start">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-vp-end" class="material-icons grey-icons"></span></div>
                    <label for="inputVacationEnd" class="visually-hidden">End</label>
                    <input type="month" class="form-control theme-plain themed" id="inputVacationEnd" placeholder="End">
                  </div>
                </div>
              </div>
              <!-- END specialized row 1 -->
              <!-- Begin specialized row 2 -->
              <!-- PTP Row 2 -->
              <div class="row temporary group-ptp" id="treatmentChecks">
                <div class="col-lg-12 ptpWarning temporary">
                  <p><strong>This customer does not qualify to make a Promise to Pay!</strong></p>
                </div>
                <div class="col-lg-12">
                  <div id="ptpDue" class="verbatim-ptp">
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="I informed them that payment must be received within 7 days." id="checkPayBefore">
                    <label class="form-check-label" for="checkPayBefore">
                      I informed them that payment must be received within 7 days.
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="I informed them we will not accept another Promise to Pay for 90 days if they miss this payment." id="checkBroken90">
                    <label class="form-check-label" for="checkBroken90">
                      I informed them we will not accept another Promise to Pay for 90 days if they miss this payment.
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="I informed them that cash payments may take up to 24 hours." id="checkCash24">
                    <label class="form-check-label" for="checkCash24">
                      I informed them that cash payments may take 24 hours.
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="I informed them that bank payments may take 3 - 5 business days." id="check3Business">
                    <label class="form-check-label" for="check3Business">
                      I informed them that bank payments may take 3 - 5 business days.
                    </label>
                  </div>
                </div>
              </div>
              <!-- Outage Row 2 -->
              <div class="row temporary group-outage">
                <div class="col-lg-12">
                  <div id="outageVerbatim" class="temporary verbatim verbatim-box">
                  </div>
                </div>
              </div>
              <!-- Rate Plan Change Row 2 -->
              <div class="row temporary group-rate-plan-change">
                <div class="col-lg-6">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-rpc-transaction" class="material-icons grey-icons"></span></div>
                    <label for="inputLastBroken" class="visually-hidden"></label>
                    <input type="date" class="form-control theme-plain themed" id="inputRpcTransaction" placeholder="Transaction Date">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-rpc-bill" class="material-icons grey-icons"></span></div>
                    <label for="inputLastBroken" class="visually-hidden"></label>
                    <input type="date" class="form-control theme-plain themed" id="inputRpcBillDate" placeholder="Next Invoice">
                  </div>
                </div>
              </div>
              <!-- contact details change row 2 -->
              <div class="row temporary group-contact-change">
                <div class="form-check check-middle cdchange check-indent">
                  <input class="form-check-input" type="checkbox" value="I changed the address" id="contact-change-address">
                  <label class="form-check-label" for="contact-change-address"> I changed the address.</label>
                </div>
                <div class="col-sm-6 cdchiddenAddress cdchiddenAddress-inputs temporary">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-contact-old-address" class="material-icons grey-icons">wrong_location</span></div>
                    <label for="cdcAddressOld" class="visually-hidden">Old Address</label>
                    <input type="text" class="form-control theme-plain themed" id="cdcAddressOld" placeholder="Old Address">
                  </div>
                </div>
                <div class="col-sm-6 cdchiddenAddress cdchiddenAddress-inputs temporary">
                  <div class="input-group g-3">
                    <div class="input-group-text"><span id="icon-contact-new-address" class="material-icons grey-icons">add_location_alt</span></div>
                    <label for="cdcAddressNew" class="visually-hidden">New Address</label>
                    <input type="text" class="form-control theme-plain themed" id="cdcAddressNew" placeholder="New Address">
                  </div>
                </div>
                <div class="form-check check-middle cdchiddenAddress temporary check-indent">
                  <input class="form-check-input" type="checkbox" value="I changed the address" id="contact-change-address-confirm">
                  <label class="form-check-label" for="contact-change-address-confirm"> Singleview marked the new address as confirmed.</label>
                </div>
              </div>
              <!-- vacation pass row 2 -->
              <div class="row temporary group-vacation-pass">
                <div class="col-sm-2">
                  <div class="">
                    <button id="vp-calc-btn" onclick="vpCalculator()" class="btn btn-secondary" type="button">Calculate</button>
                  </div>
                </div>
                <div class="col-sm-10">
                  <div class="form-check check-middle">
                    <input class="form-check-input" type="checkbox" value="This is just a Quote. I'm not setting up the Vacation Pass now." id="vpQuote">
                    <label class="form-check-label" for="vpQuote"> This is just a Quote. I'm not setting up the Vacation Pass now. </label>
                  </div>
                </div>
              </div>
              <!-- END specialized row 2 -->
              <!-- Begin Specialized Row 3 -->
              <div class="row temporary group-outage">
                <div class="col-lg-6">
                  <div class="input-group g-3 temporary verbatim" id="outageRefundChoice">
                    <div class="input-group-text"><span id="icon-outage-choice" class="material-icons grey-icons">request_quote</span></div>
                    <select class="form-select theme-plain themed" id="inputOutageRefundChoice">
                      <option selected>Chosen refund option</option>
                      <option value="Refund">Up front refund</option>
                      <option value="Monthly5">Temporary $5 per month offer</option>
                      <option value="noOffer">None of the above</option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- rate plan change row 3 -->
              <div class="row temporary group-rate-plan-change">
                <div class="col-sm-6">
                  <div class="input-group g-3 ">
                    <div class="input-group-text"><span id="icon-rpc-old" class="material-icons grey-icons">delete_forever</span></div>
                    <label for="rpcPlanOld" class="visually-hidden">Old Rate Plan Name</label>
                    <input type="text" class="form-control theme-plain themed" id="rpcPlanOld" placeholder="Old Rate Plan Name">
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="input-group g-3 ">
                    <div class="input-group-text"><span id="icon-rpc-new" class="material-icons grey-icons">fiber_new</span></div>
                    <label for="rpcPlanName" class="visually-hidden">New Rate Plan Name</label>
                    <input type="text" class="form-control theme-plain themed" id="rpcPlanName" placeholder="New Rate Plan Name">
                  </div>
                </div>
              </div>
              <!-- vacation pass row 3 -->
              <div class="row temporary group-vacation-pass">
                <div class="col-lg-12">
                  <div id="vpVerbatim" class="temporary verbatim-vp">x </div>
                  <div class="form-check vphidden">
                    <input class="form-check-input" type="checkbox" value="I reviewed all the conditions of the Vacation Pass with the customer" id="checkVpReview">
                    <label class="form-check-label" for="checkVpReview"> I reviewed all the conditions of the Vacation Pass with the customer. </label>
                  </div>
                  <div class="form-check vphidden">
                    <input class="form-check-input" type="checkbox" value="I informed the customer of the total fee and that it will all appear on the next invoice" id="checkVpFee">
                    <label class="form-check-label" for="checkVpFee"> I informed the customer of the total fee and that it will all appear on the next invoice. </label>
                  </div>
                </div>
              </div>

              <!-- END specialized row 3 -->
              <!-- Begin Specialized Row 4 -->
              <!-- rate plan change row 4 -->
              <div class="row temporary group-rate-plan-change">
                <div class="col-sm-2">
                  <div class="">
                    <button id="rpc-calc-btn" onclick="rpcCalculator()" class="btn btn-secondary" type="button">Calculate</button>
                  </div>
                </div>
              </div>
              <!-- END specialized row 4 -->
              <!-- Begin Specialized Row 5 -->
              <!-- rate plan change row 5 -->
              <div class="row temporary group-rate-plan-change">
                <div class="col-lg-12">
                  <div id="rpcVerbatim" class="temporary verbatim-rpc">x
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="I reviewed all differences between both rate plans with customer." id="checkRpcReview">
                    <label class="form-check-label" for="checkRpcReview"> I reviewed all differences between both rate plans with customer. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="Prices are quoted before tax and they are an estimate." id="checkRpcQuoted">
                    <label class="form-check-label" for="checkRpcReview"> Prices are quoted before tax and they are an estimate. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="Prices do not reflect any discounts or promos currently attached to the account." id="checkRpcReflect">
                    <label class="form-check-label" for="checkRpcReview"> Prices do not reflect any discounts or promos currently attached to the account. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="Promos or Bonus Data attached to the previous rate plan may be lost." id="checkRpcPromos">
                    <label class="form-check-label" for="checkRpcReview"> Promos or Bonus Data attached to the previous rate plan may be lost. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="The new rate plan will be effective immediately." id="checkRpcEffective">
                    <label class="form-check-label" for="checkRpcReview"> The new rate plan will be effective immediately. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="Price adjustments, including proration, will be reflected on the next invoice." id="checkRpcNext">
                    <label class="form-check-label" for="checkRpcReview"> Price adjustments, including proration, will be reflected on the next invoice. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="MyTab savings could be billed out with rate plan change." id="checkRpcTab">
                    <label class="form-check-label" for="checkRpcReview"> MyTab savings could be billed out with rate plan change. </label>
                  </div>
                  <div class="form-check rpchidden">
                    <input class="form-check-input" type="checkbox" value="They can not go back to legacy plans or rates." id="checkRpcLegacy">
                    <label class="form-check-label" for="checkRpcReview"> They can not go back to legacy plans or rates. </label>
                  </div>
                </div>
              </div>
              <!-- END specialized row 5 -->

              <!-- </div> -->
            </div>
            <!-- column b -->
            <div class="col-lg-5">
              <div class="row">
                <div class="col-lg-12">
                  <label for="casOutput" class="visually-hidden">Note</label>
                  <textarea rows="25" cols="10" class="form-control theme-plain themed" id="casOutput"
                    placeholder="Your notes will appear here when you click Combine. They are automatically copied, so you're ready to paste them into Singleview."></textarea>
                </div>
              </div>
              <!-- <div> -->

              <div class="row">
                <div class="col-md-4">
                  <button id="copy-btn" onclick="formsCombine()" class="btn btn-secondary btn-combine" type="button">Combine</button>
                </div>
                <div class="col-md-5">
                  <div class="input-group g-3 tags-menu">
                    <div class="input-group-text"><span id="icon-tags" class="material-icons grey-icons">error_outline</span></div>
                    <select class="form-select theme-plain themed" aria-label="Default select" id="inputTag" type="text">
                      <option selected>Tag it!</option>
                      <option value="** Address Change **">** Address Change **</option>
                      <option value="** Customer Failed Verification **">** Customer Failed Verification **</option>
                      <option value="** No More Promotions **">** No More Promotions **</option>
                      <option value="** Promise to Pay Denied **">** Promise to Pay Denied **</option>
                      <option value="** Promotion or Credit Applied **">** Promotion or Credit Applied **</option>
                      <option value="** Roaming Conversation**">** Roaming Conversation**</option>
                      <option value="** Unauthorized User **">** Unauthorized User **</option>
                    </select>
                  </div>
                </div>

                <div class="col-md-3">
                  <button class="btn btn-secondary btn-reset justify-content-md-end" type="button" value="reset" onClick="resetHistoryCombo()">Reset</button>
                </div>
              </div>
            </div>
          </div>
        </div>
  </div>
  </form>
  </section>
  <section id="history">
    <h4>Note History</h4><br>
    <hr>
    <div id="historyPrint" class="history"></div>
  </section>
  <section id="prepaidCalculator">
    <h4>Pre-Paid Calculator</h4><br>
    <h5>Simple Thirds</h5>
    <form id="prepaidProration">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3">
              <div class="input-group-text"><span class="material-icons grey-icons">date_range</span></div>
              <select class="form-select theme-plain themed" aria-label="Default select" id="prepaidThirds">
                <option selected>Days until next top-up date?</option>
                <option value="33">1 - 10 days remaining</option>
                <option value="66">11 - 20 days remaining</option>
                <option value="99">21 - 30 days remaining</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3">
              <div class="input-group-text"><span class="material-icons grey-icons">attach_money</span></div>
              <label for="inputPrepaidRatePlan" class="visually-hidden">Price of the item</label>
              <input type="numbers" class="form-control theme-plain themed" id="prepaidItemPrice" placeholder="Price of the item">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="">
              <button id="prepaid-calc-btn" onclick="prepaidThirdsCalc()" class="btn btn-secondary btn-combine" type="button">Calculate</button>
              <button class="btn btn-secondary btn-reset justify-content-md-end" type="button" value="reset" onClick="resetPreCalc()">Reset</button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3">
              <div class="input-group-text"><span class="material-icons grey-icons">attach_money</span></div>
              <label for="inputPrepaidRatePlan" class="visually-hidden">Amount to pay</label>
              <input type="text" class="form-control theme-plain themed" id="prepaidThirdsResult" placeholder="Amount to pay">
            </div>

          </div>

        </div>
    </form>
  </section>
  <section id="postpaidCalculator">
    <h4>Post-Paid Calulator</h4><br>
    <form id="postpaidProration">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-3">
            <p class="footer">Removed item is not required</p>
            <div class="input-group g-3" id="oldMrcPrice">
              <div class="input-group-text"><span class="material-icons grey-icons">attach_money</span></div>
              <label for="inputOldMrcPrice" class="visually-hidden">Price of Old Item</label>
              <input type="number" class="form-control theme-plain themed" id="inputOldMrcPrice" placeholder="Price of removed item">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3" id="mrcPrice">

              <div class="input-group-text"><span class="material-icons grey-icons">attach_money</span></div>
              <label for="inputMrcPrice" class="visually-hidden">Price of New Item</label>
              <input type="number" class="form-control theme-plain themed" id="inputMrcPrice" placeholder="Price of added Item">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="input-group g-3" id="mrcDaysRemainingOld">
              <div class="input-group-text"><span class="material-icons grey-icons">date_range</span></div>
              <label for="inputMrcDaysRemaining" class="visually-hidden">Days remaining</label>
              <input type="number" class="form-control theme-plain themed" id="inputMrcDaysRemaining" placeholder="Days remaining">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <div class="">
              <button id="postpaid-calc-btn" onclick="postpaidCalc()" class="btn btn-secondary btn-combine" type="button">Calculate</button>
              <button class="btn btn-secondary btn-reset justify-content-md-end" type="button" value="reset" onClick="resetPostCalc()">Reset</button>
            </div>

          </div>
          <div class="row">
            <div class="col-lg-3">
              <div class="input-group g-3">
                <div class="input-group-text"><span class="material-icons grey-icons">attach_money</span></div>
                <label for="postpaidResult" class="visually-hidden">Amount to pay</label>
                <input type="text" class="form-control theme-plain themed" id="postpaidResult" placeholder="Amount to pay">
              </div>
              <p class="footer">Note: a month in SingleView is 30.4375 days (average of month lengths over 4 years)</p>
            </div>

          </div>
        </div>
    </form>
  </section>
  <section id="taxCalculator">
    <h4>Tax Calculator</h4>

  </section>
  <section id="aboutNotator">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-4">
          <h4>Instructions</h4>
          <br>
          <h6>General Note Taking</h6>
          <ul>
            <li>The "Combine & Copy" button will assemble your note and also copy it to the clipboard.</li>
            <li>The "Role" menu in the footer will persist your choice as long as the Pipe tab is not closed.</li>
            <li>Information entered in fields is saved if you use the footer menu to visit other pages and return.</li>
            <li>Calendar fields, such as "Last Broken PTP", can use the calendar icon on the right of the field to select a date.</li>
          </ul><br>
          <h6>Note History</h6>
          <ul>
            <li>The "Reset" button is what triggers a note to be written to the History page.</li>
            <li>The notes on the History page are only saved until the Pipe tab is closed or reset.</li>
          </ul>

        </div>
        <div class="col-lg-1">


        </div>
        <div class="col-lg-4">
          <h4>Change Log</h4>

        </div>
      </div>


  </section>
  <!-- end calculators -->

  </div>

  <div class="fixed-bottom nav-footer row align-items-center footer">
    <div class="col-md-2 justify-content-start">
      <div class="input-group g-2" id="role">
        <select class="form-select" id="inputRole">
          <option selected>Role</option>
          <option value="CAS Phone">CAS Phone</option>
          <option value="CAS Messaging">CAS Messaging</option>
          <option value="Digital Social Media">Digital: Social Media</option>
        </select>
      </div>
    </div>

    <div class="col-md-2 justify-content-start">
      <div class="input-group g-2" id="footerMenu">
        <select class="form-select" id="inputFooterMenu">
          <option selected value="Notes">Notes</option>
          <option value="History">History</option>
          <option value="Post-paid Calculator">Post-paid Calculator</option>
          <option value="Pre-paid Calculator">Pre-paid Calculator</option>
          <option value="Tax Calculator">Tax Calculator</option>
          <option value="About Notator">About Notator</option>
        </select>
      </div>
    </div>

    <div class="col-md-2 justify-content-start">
      <div class="input-group g-2" id="footerTheme">
        <select class="form-select" id="inputFooterTheme">
          <option selected value="Notes">Theme</option>
          <option value="Blue">Blue</option>
          <!-- <option value="Coal">Coal</option> -->
          <option value="Pink">Pink</option>
          <option value="Seafoam">Seafoam</option>
          <option value="Violet">Violet</option>
          <!-- <option value="Tiger">Tiger</option> -->
        </select>
      </div>
    </div>

    <div class="col-md-4">
    </div>
    <div class="col-md-1 d-flex justify-content-end" id="d20" onclick="randomTwenty()">[ 00 ]</div>
    <div class="col-md-1 d-flex justify-content-end">
      v.4.01.2
    </div>
  </div>
  <!-- </nav> -->

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script>
    let allForm = document.getElementById("notatorForm");
    let dailyRate = "";
    let totalRefund = "";
    let roundedOffer = "";
    let altOfferMonths = "";
    let output = "";
    let ptpPayBefore = "";
    let rpcTotalDays = "";
    let inputOldPlanPrice = "";
    let inputNewPlanPrice = "";
    let rpcResult = "";
    let inputRpcType = "";
    let resultVpStart = "";
    let resultVpEnd = "";
    let diffResult = "";

    let months = ["Jan", "Feb", "March", "April", "May", "June", "July",
      "August", "September", "October", "November", "December"
    ];

    // deselects the pasted text in the note textarea
    $("#casOutput").focus(function() {
      var input = this;
      setTimeout(function() {
        input.selectionStart = input.selectionEnd;
      }, 1);
    });

    // CA form display, or not
    $("#inputSpecialTopic").change(function() {
      if ($(this).val() == "Loyalty") {
        $('.group-loyalty').show();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Outage") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').show();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Tech") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Contact Details Change") {
        $('.group-loyalty').hide();
        $('.group-contact-change').show();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Promise to Pay") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').show();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Rate Plan Change") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').show();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Technical Support") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').show();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      } else if ($(this).val() == "Vacation Pass") {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').show();
        $('.verbatim').hide();
      } else {
        $('.group-loyalty').hide();
        $('.group-contact-change').hide();
        $('.group-ptp').hide();
        $('.group-outage').hide();
        $('.group-rate-plan-change').hide();
        $('.group-tech').hide();
        $('.group-vacation-pass').hide();
        $('.verbatim').hide();
      }
    });
    $("#inputSpecialTopic").trigger("change");

    // footer  menu
    $("#inputFooterMenu").change(function() {
      if ($(this).val() == "History") {
        $('#CAS').hide();
        $('#history').show();
        $('#prepaidCalculator').hide();
        $('#postpaidCalculator').hide();
        $('#taxCalculator').hide();
        $('#aboutNotator').hide();
      } else if ($(this).val() == "Post-paid Calculator") {
        $('#CAS').hide();
        $('#history').hide();
        $('#prepaidCalculator').hide();
        $('#postpaidCalculator').show();
        $('#taxCalculator').hide();
        $('#aboutNotator').hide();
      } else if ($(this).val() == "Pre-paid Calculator") {
        $('#CAS').hide();
        $('#history').hide();
        $('#prepaidCalculator').show();
        $('#postpaidCalculator').hide();
        $('#taxCalculator').hide();
        $('#aboutNotator').hide();
      } else if ($(this).val() == "Tax Calculator") {
        $('#CAS').hide();
        $('#history').hide();
        $('#prepaidCalculator').hide();
        $('#postpaidCalculator').hide();
        $('#taxCalculator').show();
        $('#aboutNotator').hide();
      } else if ($(this).val() == "About Notator") {
        $('#CAS').hide();
        $('#history').hide();
        $('#prepaidCalculator').hide();
        $('#postpaidCalculator').hide();
        $('#taxCalculator').hide();
        $('#aboutNotator').show();
      } else {
        $('#CAS').show();
        $('#history').hide();
        $('#prepaidCalculator').hide();
        $('#postpaidCalculator').hide();
        $('#taxCalculator').hide();
        $('#aboutNotator').hide();
      }
    });
    $("#inputFooterMenu").trigger("change");

    // Menu selection change from grey to black
    $("#inputStatus").change(function() {
      $("#inputStatus").addClass('selectedmenu');
      if ($(this).val() === "") {
        $("#inputStatus").removeClass('selectedmenu');
      };
    });
    $("#inputVerification").change(function() {
      $("#inputVerification").addClass('selectedmenu');
      if ($(this).val() === "") {
        $("#inputVerification").removeClass('selectedmenu');
      };
    });

    // themes
    function clearThemes() {
      $(".themed").removeClass("theme-bluer theme-pinker theme-plain theme-coal theme-seafoam theme-violet");
    }

    $("#inputFooterTheme").change(function() {
      clearThemes();
      if ($(this).val() === "Pink") {
        $(".themed").addClass('theme-pinker');
      } else if ($(this).val() === "Blue") {
        $(".themed").addClass('theme-bluer');
      } else if ($(this).val() === "Coal") {
        $(".themed").addClass('theme-coal');
      } else if ($(this).val() === "Seafoam") {
        $(".themed").addClass('theme-seafoam');
      } else if ($(this).val() === "Violet") {
        $(".themed").addClass('theme-violet');
      } else {
        $(".themed").addClass('theme-plain');
      }
    });
    $("#inputFooterTheme").trigger("change");


    // icon colour changes + warnings
    allForm.addEventListener("change", formsUpdate);

  // warning for verify and status
    function formsUpdate() {
      if ($("#inputStatus").val() === "Not Authorized" || $("#inputVerification").val() === "No, wrong PIN" || $("#inputVerification").val() === "No, unverified") {
        $('.warning').show();
      } else {
        $('.warning').hide();
      }
      if ($("#inputStatus").val() === "Not Authorized") {
        $("#inputVerification").prop('disabled', true);
        $("#inputVerification").val("Verification");
      } else {
        $("#inputVerification").prop('disabled', false);
      }
      if ($("#inputStatus").val() === "Not Authorized") {
        $("#icon-status").removeClass("grey-icons green-icons");
        $("#icon-status").addClass('red-icons');
        $("#icon-verify").removeClass("grey-icons green-icons");
        $("#icon-verify").addClass('red-icons');
      } else if ($("#inputStatus").val() === "Account Holder" || $("#inputStatus").val() === "Authorized User" || $("#inputStatus").val() === "Device User") {
        $("#icon-status").removeClass("red-icons grey-icons");
        $("#icon-status").addClass('green-icons');
      } else {
        $("#icon-status").removeClass("red-icons green-icons");
        $("#icon-status").addClass('grey-icons');
        $("#icon-verify").removeClass("red-icons green-icons");
        $("#icon-verify").addClass('grey-icons');
      }
      if ($("#inputVerification").val() === "No, wrong PIN" || $("#inputVerification").val() === "No, unverified" || $("#inputVerification").val() === null) {
        $("#icon-verify").removeClass("grey-icons green-icons");
        $("#icon-verify").addClass('red-icons');
      } else if ($("#inputVerification").val() === "Yes, with PIN" || $("#inputVerification").val() === "Yes, with MFA SMS" || $("#inputVerification").val() === "Yes, with MFA Email") {
        $("#icon-verify").removeClass("red-icons grey-icons");
        $("#icon-verify").addClass('green-icons');
      } else {
        $("#icon-verify").removeClass("red-icons green-icons");
        $("#icon-verify").addClass('grey-icons');
      }
// red and green and grey icons for contact details change MFA
var cdcMfa = document.getElementById("contact-change-mfa").checked;
      if (cdcMfa === false) {
        $("#icon-contact-old-email").removeClass("grey-icons green-icons");
        $("#icon-contact-old-email").addClass('red-icons');
        $("#icon-contact-new-email").removeClass("grey-icons green-icons");
        $("#icon-contact-new-email").addClass('red-icons');
        $("#icon-contact-old-address").removeClass("grey-icons green-icons");
        $("#icon-contact-old-address").addClass('red-icons');
        $("#icon-contact-new-address").removeClass("grey-icons green-icons");
        $("#icon-contact-new-address").addClass('red-icons');
      } else if (cdcMfa === true) {
        $("#icon-contact-old-email").removeClass('red-icons');
        $("#icon-contact-new-email").removeClass('red-icons');
        $("#icon-contact-old-address").removeClass('red-icons');
        $("#icon-contact-new-address").removeClass('red-icons');
        colourChange("#cdcEmailOld", "#icon-contact-old-email");
        colourChange("#cdcEmailNew", "#icon-contact-new-email");
        colourChange("#cdcAddressOld", "#icon-contact-old-address");
        colourChange("#cdcAddressNew", "#icon-contact-new-address");
      }

      // red and green and grey icons for the rest
      colourChange("#inputName", "#icon-name");
      colourChange("#inputCaller", "#icon-caller");
      colourChange("#inputMsisdn", "#icon-msisdn");
      colourChange("#inputContactId", "#icon-conversation");
      if ($("#inputSpecialTopic").val() !== "Select a specialized topic") {
        colourChange("#inputSpecialTopic", "#icon-specialized");
      } else if ($("#inputSpecialTopic").val() === "Select a specialized topic") {
        $("#icon-specialized").removeClass("green-icons");
        $("#icon-specialized").addClass('grey-icons');
      }
      colourChange("#inputOutageMonthlyCharge", "#icon-outage-monthly");
      colourChange("#inputPayAmount", "#icon-ptp-pay");
      if ($("#inputPayMethod").val() !== "Method of payment") {
        colourChange("#inputPayMethod", "#icon-ptp-method");
      } else if ($("#inputPayMethod").val() === "Method of payment") {
        $("#icon-ptp-method").removeClass("green-icons");
        $("#icon-ptp-method").addClass('grey-icons');
      }

      colourChange("#inputOutageLength", "#icon-outage-length");
      if ($("#inputRpcType").val() !== "Account Type") {
        colourChange("#inputRpcType", "#icon-rpc-account");
      } else if ($("#inputRpcType").val() === "Account Type") {
        $("#icon-rpc-account").removeClass("green-icons");
        $("#icon-rpc-account").addClass('grey-icons');
      }
      colourChange("#inputOldPlanPrice", "#icon-rpc-remove");
      colourChange("#inputNewPlanPrice", "#icon-rpc-new-price");
      if ($("#inputVacationCycle").val() !== "CX Cycle Date") {
        colourChange("#inputVacationCycle", "#icon-vp-cycle");
      } else if ($("#inputVacationCycle").val() === "CX Cycle Date") {
        $("#icon-vp-cycle").removeClass("green-icons");
        $("#icon-vp-cycle").addClass('grey-icons');
      }
      colourChange("#inputVacationStart", "#icon-vp-start");
      colourChange("#inputVacationEnd", "#icon-vp-end");
      colourChange("#inputRpcTransaction", "#icon-rpc-transaction");
      colourChange("#inputRpcBillDate", "#icon-rpc-bill");
      if ($("#inputOutageRefundChoice").val() !== "Chosen refund option") {
        colourChange("#inputOutageRefundChoice", "#icon-outage-choice");
      } else if ($("#inputOutageRefundChoice").val() === "Chosen refund option") {
        $("#icon-outage-choice").removeClass("green-icons");
        $("#icon-outage-choice").addClass('grey-icons');
      }
      colourChange("#rpcPlanOld", "#icon-rpc-old");
      colourChange("#rpcPlanName", "#icon-rpc-new");
      if ($("#inputTag").val() !== "Tag it!") {
        colourChange("#inputTag", "#icon-tags");
      } else if ($("#inputTag").val() === "Tag it!") {
        $("#icon-tags").removeClass("green-icons");
        $("#icon-tags").addClass('grey-icons');
      }
    };

    function colourChange(target, icon) {
      if ($(target).val() === "") {
        $(icon).removeClass("green-icons");
        $(icon).addClass('grey-icons');
      } else {
        $(icon).removeClass("grey-icons");
        $(icon).addClass('green-icons');
      }
    }

    // PTP warning message (flawed code, needs to be done better)
    $("#inputLastBroken").change(function() {
      var today = new Date();
      var ptpBrokenDate = $("#inputLastBroken").val();
      var ptpDateRule = new Date(new Date().setDate(today.getDate() - 89));
      ptpBrokenDate = new Date(ptpBrokenDate);
      if (ptpDateRule < ptpBrokenDate) {
        $('.ptpWarning').show();
      } else {
        $('.ptpWarning').hide();
      }
    });

    // Nothing important
    function randomTwenty() {
      let d = document.querySelector("#d20");
      d.innerText = "[ " + (Math.floor(Math.random(20) * 20) + 1).toLocaleString('en-US', {
        minimumIntegerDigits: 2,
        useGrouping: false
      }) + " ]";
    }

    // outage calculator
    function outageCalculator() {
      var outCalLength = $("#inputOutageLength").val();
      var outCalMonth = $("#inputOutageMonthlyCharge").val();
      dailyRate = (outCalMonth / 30.4375).toFixed(2);
      totalRefund = (dailyRate * outCalLength).toFixed(2);
      roundedOffer = Math.ceil(totalRefund);
      if (roundedOffer < 5) {
        altOfferMonths = 1;
      } else if (roundedOffer >= 5 && roundedOffer <= 8) {
        altOfferMonths = 2;
      } else if (roundedOffer > 8 && roundedOffer <= 10) {
        altOfferMonths = 3;
      } else if (roundedOffer > 10 && roundedOffer <= 12) {
        altOfferMonths = 4;
      } else if (roundedOffer > 12 && roundedOffer <= 30) {
        altOfferMonths = 6;
      } else {
        altOfferMonths = 0;
      }

      var makeOffer = "";
      if (roundedOffer >= 5.01 && roundedOffer <= 30.01) {
        makeOffer = $("#outageVerbatim").html("Looking at your account I see your monthly charge is " + "<strong>" + "$" + outCalMonth + "</strong>" + "<br>" + "Which means your service cost is " + "<strong>" + "$" + dailyRate + "</strong>" +
          " per day. " + "<br>" +
          "At that cost, this outage of " + "<strong>" + outCalLength + "</strong>" + " days equals a refund of " + "<strong>" + "$" + totalRefund + "</strong>" + "<br>" + "I'm happy to round that amount up to " + "<strong>" + "$" + roundedOffer +
          "</strong>" + "<br>" + "or if you prefer, I can apply a temporary discount of " + "<strong>" + "$5 off for " + altOfferMonths + " months." + "</strong>" + "<br><br>" + "Which would you like me to place on your account for you?");
      } else {
        $("#outageVerbatim").html("Looking at your account I see your monthly charge is " + "<strong>" + "$" + outCalMonth + "</strong>" + "<br>" + "Which means your service cost is " + "<strong>" + "$" + dailyRate + "</strong>" + " per day. " +
          "<br>" +
          "At that cost, this outage of " + "<strong>" + outCalLength + "</strong>" + " days equals a refund of " + "<strong>" + "$" + totalRefund + "</strong>" + "<br>" + "I'm happy to round that amount up to " + "<strong>" + "$" + roundedOffer +
          "</strong>");
      }
      $('.verbatim').show();
      return roundedOffer;
    };

    // Rate Plan Change
    function rpcCalculator() {
      inputRpcType = $("#inputRpcType").val();
      inputOldPlanPrice = $("#inputOldPlanPrice").val();
      inputNewPlanPrice = $("#inputNewPlanPrice").val();
      var perDayRemoving = (inputOldPlanPrice / 30.4375).toFixed(2);
      var perDayProrating = (inputNewPlanPrice / 30.4375).toFixed(2);
      var rpcVerbatim = "";

      var dayStart = new Date($("#inputRpcTransaction").val());
      var dayEnd = new Date($("#inputRpcBillDate").val());
      rpcTotalDays = (dayEnd - dayStart) / (1000 * 60 * 60 * 24);
      rpcTotalDays = Math.round(rpcTotalDays);

      var rpcProrateCredit = (rpcTotalDays * perDayRemoving).toFixed(2);
      var prepaidProrateCharge = inputNewPlanPrice;
      var postpaidProrateCharge = (rpcTotalDays * perDayProrating).toFixed(2);

      if (inputRpcType === "Prepaid" && rpcTotalDays <= 10) {
        prepaidProrateCharge = (inputNewPlanPrice * 0.33).toFixed(2);
      } else if (inputRpcType === "Prepaid" && rpcTotalDays >= 11 && rpcTotalDays <= 20) {
        prepaidProrateCharge = (inputNewPlanPrice * 0.66).toFixed(2);
      } else {
        prepaidProrateCharge = inputNewPlanPrice;
      }

      if (inputRpcType === "Prepaid") {
        rpcResult = (prepaidProrateCharge - rpcProrateCredit).toFixed(2);
        rpcVerbatim = $("#rpcVerbatim").html("With these dates, there will be " + "<strong>" + rpcTotalDays + " days" + "</strong>" + " of proration." + "<br>" + "The plan being removed costs " + "<strong>" + "$" + perDayRemoving + "</strong>" +
          " per day." + "<br>" + "This equals a credit for unused sevice of " + "<strong>" + "$" + rpcProrateCredit + "</strong>" + "<br>" + "This account is Prepaid, so the new rate plan will cost " + "<strong>" + "$" + prepaidProrateCharge +
          "</strong>" + " for these " + "<strong>" + rpcTotalDays + " days" + "</strong>" + "<br>" + "Applying the service credit to the prorated service charge means this plan change costs " + "<strong>" + "$" + rpcResult + "</strong>");


      } else if (inputRpcType === "Postpaid") {
        rpcResult = (postpaidProrateCharge - rpcProrateCredit).toFixed(2);
        rpcVerbatim = $("#rpcVerbatim").html("<strong>" + "All prices are before tax, and are an estimate!" + "</strong>" + "<br>" + "With these dates, there will be " + "<strong>" + rpcTotalDays + " days" + "</strong>" + " of proration." + "<br>" +
          "The plan being removed costs " + "<strong>" + "$" + perDayRemoving + "</strong>" +
          " per day." + "<br>" + "This equals a credit for unused sevice of " + "<strong>" + "$" + rpcProrateCredit + "</strong>" + "<br>" + "The plan being added costs " + "<strong>" + "$" + perDayProrating + "</strong>" +
          " per day." + "<br>" + "This account is Postpaid, so the new rate plan will cost " + "<strong>" + "$" + postpaidProrateCharge + "</strong>" + " for these " + "<strong>" + rpcTotalDays + " days" + "</strong>" + "<br>" +
          "Applying the service credit to the prorated service charge means this plan change costs " + "<strong>" + "$" + rpcResult + "</strong>");
      } else {
        rpcVerbatim = $("#rpcVerbatim").html("With these dates, there will be " + "<strong>" + rpcTotalDays + " days" + "</strong>" + " of proration.");
      }

      $('.verbatim-rpc').show();
      $('.rpchidden').show();
      return rpcVerbatim;
    }

    // contact details change
    $("#contact-change-email").change(function() {
      var cdcEmail = document.getElementById("contact-change-email").checked;
      if (cdcEmail === true) {
        $('.cdchidden').show();
      } else {
        $('.cdchidden').hide();
      }
    });
    $("#contact-change-address").change(function() {
      var cdcAddress = document.getElementById("contact-change-address").checked;
      if (cdcAddress === true) {
        $('.cdchiddenAddress').show();
      } else {
        $('.cdchiddenAddress').hide();
      }
    });




    // vacation pass calculator
    function vpCalculator() {
      vpStart();
      vpEnd();
      vpMonthsCalculator();
      vpCycleDate = $("#inputVacationCycle").val()

      vpVerbatimText = $("#vpVerbatim").html("Vacation Pass will begin on the " + vpCycleDate + " of " + resultVpStart + "<br>" + "Vacation Pass will conclude on the " + vpCycleDate + " of " + resultVpEnd + "<br>" + "This vacation is for " +
        "<strong>" + diffResult + " months" + "</strong>" + "<br>" + "The amount charged on the next invoice will be " + "<strong>" + "$" + (15 * diffResult) + "</strong>" + " (" + diffResult + " months at $15 each" + ")");
      $('.verbatim-vp').show();
      $('.vphidden').show();
    }

    function vpStart() {
      var inputStartDate = $("#inputVacationStart").val().split('-');
      var monthStartNum = parseInt(inputStartDate[1] - 1)
      var yearStartNum = parseInt(inputStartDate[0])
      resultVpStart = (months[monthStartNum] + " " + yearStartNum);
      return resultVpStart
    }

    function vpEnd() {
      var inputEndDate = $("#inputVacationEnd").val().split('-');
      var monthEndNum = parseInt(inputEndDate[1] - 1)
      var yearEndNum = parseInt(inputEndDate[0])
      resultVpEnd = (months[monthEndNum] + " " + yearEndNum);
      return resultVpEnd
    }

    function vpMonthsCalculator() {
      var inputStartDate = $("#inputVacationStart").val().split('-');
      var startM = parseInt(inputStartDate[1]);
      var startY = parseInt(inputStartDate[0]);
      var inputEndDate = $("#inputVacationEnd").val().split('-');
      var endM = parseInt(inputEndDate[1]);
      var endY = parseInt(inputEndDate[0]);
      var diffYears = (endY - startY) * 12;
      var diffMonths = (endM + 1) - (startM + 1);
      diffResult = diffYears + diffMonths;
      return diffResult
    }

    // calculate payment due date PTP
    function ptpDueDate() {
      var ptpVerbatim = "";
      var today = new Date();
      ptpPayBefore = new Date(new Date().setDate(today.getDate() + 6));
      const longEnUSFormatter = new Intl.DateTimeFormat('en-US', {
        month: 'long',
        day: 'numeric',
        weekday: 'long',
      });
      ptpPayBefore = longEnUSFormatter.format(ptpPayBefore);

      ptpVerbatim = $("#ptpDue").html("We must receive the payment before " + ptpPayBefore);

      return ptpVerbatim;
    }

    // assemble note output
    function formsCombine() {

      var cxName = $("#inputName").val();
      var cxPhone = $("#inputCaller").val();
      var cxMsisdn = $("#inputMsisdn").val();
      var cxStatus = $("#inputStatus").val();
      var contactId = $("#inputContactId").val();
      var cxVerify = $("#inputVerification").val();
      var cxProblem = $("#inputProblem").val();
      var cxAction = $("#inputAction").val();
      var callType = $("#inputSpecialTopic").val();
      var cxBroken = dateFormatitron($("#inputLastBroken").val());
      var cxPay = $("#inputPayAmount").val();
      var cxMethod = $("#inputPayMethod").val();
      var outLength = $("#inputOutageLength").val();
      var outMonth = $("#inputOutageMonthlyCharge").val();
      var outRefundChoice = $("#inputOutageRefundChoice").val();
      var roleTag = $("#inputRole").val();
      var inputTag = $("#inputTag").val();
      var rpcPlanName = $("#rpcPlanName").val();
      var rpcPlanOld = $("#rpcPlanOld").val();
      var rpcTransactionDate = dateFormatitron($("#inputRpcTransaction").val());
      var rpcBillDate = dateFormatitron($("#inputRpcBillDate").val());
      var loyaltyYonyx = $("#inputYonyx").val();
      var techYonyx = $("#inputTechYonyx").val();
      var vacationCycle = $("#inputVacationCycle").val();
      var rpcQuoteYes = document.getElementById("rpcQuote").checked;
      var vpQuoteYes = document.getElementById("vpQuote").checked;
      var rpcChangesYes = document.getElementById("checkRpcReview").checked;
      var rpcQuoted = document.getElementById("checkRpcQuoted").checked;
      var rpcReflect = document.getElementById("checkRpcReflect").checked;
      var rpcPromos = document.getElementById("checkRpcPromos").checked;
      var rpcEffective = document.getElementById("checkRpcEffective").checked;
      var rpcNext = document.getElementById("checkRpcNext").checked;
      var rpcTab = document.getElementById("checkRpcTab").checked;
      var rpcLegacy = document.getElementById("checkRpcLegacy").checked;
      var cxCheckPayBefore = document.getElementById("checkPayBefore").checked;
      var cxCheckBroken90 = document.getElementById("checkBroken90").checked;
      var cxcheckCash24 = document.getElementById("checkCash24").checked;
      var cxcheck3Business = document.getElementById("check3Business").checked;
      var cxCheckVpReview = document.getElementById("checkVpReview").checked;
      var cxCheckVpFee = document.getElementById("checkVpFee").checked;

      cxName = cxName.trim();
      cxName = cxName.toLowerCase().replace(/(^\w{1})|(\s{1}\w{1})/g, match => match.toUpperCase());

      if (inputTag === "Tag it!") {
        output = "";
      } else {
        output = inputTag + "\n";
      }
      if (callType === "Loyalty") {
        output += callType + "\n\n";
      } else if (callType === "Contact Details Change") {
        output += callType + "\n\n";
      } else if (callType === "Technical Support") {
        output += callType + "\n\n";
      } else if (callType === "Promise to Pay") {
        output += callType + "\n\n";
      } else if (callType === "Outage") {
        output += callType + " refund" + "\n\n";
      } else if (callType === "Vacation Pass" && vpQuoteYes === false) {
        output += callType + "\n\n";
      } else if (callType === "Vacation Pass" && vpQuoteYes === true) {
        output += "Quoting for a potential " + callType + "\n\n";
      } else if (callType === "Rate Plan Change" && rpcQuoteYes === false) {
        output += callType + "\n\n";
      } else if (callType === "Rate Plan Change" && rpcQuoteYes === true) {
        output += "Quoting for a potential " + callType + "\n\n";
      } else {
        output += '';
      }
      if (cxProblem > "") {
        output += 'Problem: ' + cxProblem + "\n\n";
      }
      output += 'Name: ' + cxName + "\n";

      if (cxStatus === "CX Status") {
        output += 'CX Status: unknown' + "\n";
      } else {
        output += 'CX Status: ' + cxStatus + "\n";
      }

      if (cxVerify === "Verification") {
        output += 'Verification: unknown' + "\n";
      } else {
        output += 'Verification: ' + cxVerify + "\n";
      }

      output += 'Acct MSISDN: ' + cxMsisdn + "\n";
      output += 'Caller\'s Phone# ' + cxPhone + "\n";

      if (roleTag !== "Role") {
        output += 'Agent Role: ' + roleTag + "\n";
      }
      output += 'Contact ID: ' + contactId + "\n\n";
      if (cxAction > "") {
        output += 'Action: ' + cxAction + "\n\n";
      }
      if (callType === "Promise to Pay") {
        output += 'Last Broken PTP: ' + cxBroken + "\n";
        output += 'Will pay: $' + cxPay + "\n";
        if (cxMethod !== "Method of payment") {
          output += 'Payment method: ' + cxMethod + "\n";
        } else if (cxMethod === "Method of payment") {
          output += 'Payment method: unknown' + "\n";
        }
        output += 'Payment due: ' + ptpPayBefore + "\n";
      }
      if (callType === "Outage") {
        output += 'Service outage for ' + outLength + " days" + "\n";
        output += 'Based on a monthly rate of $' + outMonth + "\n";
        output += 'I offered a refund of $' + roundedOffer + "\n";
        if (outRefundChoice === "Refund") {
          output += "CX opted for the refund option of $" + roundedOffer + " which I have applied" + "\n";
        } else if (outRefundChoice === "Monthly5") {
          output += "CX opted for the temporary $5 discount for " + altOfferMonths + " months, which I have applied" + "\n";
        } else if (outRefundChoice === "noOffer") {
          output += "CX opted for neither refund choice that I offered." + "\n";
        } else {
          output += "I don't know what option the customer chose." + "\n";
        }
      }
      if (rpcQuoteYes === true && callType === "Rate Plan Change") {
        output += "- " + rpcQuote.getAttribute('value') + "\n";
      }
      if (callType === "Rate Plan Change") {
        output += 'Old rate plan: ' + rpcPlanOld + "\n";
        output += 'New rate plan: ' + rpcPlanName + "\n";
        output += 'New plan MRC: $' + inputNewPlanPrice + "\n";
        output += 'Removing plan MRC: $' + inputOldPlanPrice + "\n";
        output += 'Date of change: ' + rpcTransactionDate + "\n";
        output += 'Next Invoice Date: ' + rpcBillDate + "\n";
        output += 'Days of ' + inputRpcType + ' proration: ' + rpcTotalDays + "\n";
        output += 'Prorated charge: $' + rpcResult + "\n";
      }
      if (vpQuoteYes === true && callType === "Vacation Pass") {
        output += "- " + vpQuote.getAttribute('value') + "\n";
      }
      if (callType === "Vacation Pass") {
        output += 'Vacation Pass will begin on the ' + vacationCycle + " of " + resultVpStart + "\n";
        output += 'Vacation Pass will end on the ' + vacationCycle + " of " + resultVpEnd + "\n";
        output += 'Vacation Duration: ' + diffResult + " months." + "\n";
        output += 'Vacation Pass charge on next invoice will be $' + (diffResult * 15) + "\n";
        if (cxCheckVpReview === true && callType === "Vacation Pass") {
          output += "- " + checkVpReview.getAttribute('value') + "\n";
        }
        if (cxCheckVpFee === true && callType === "Vacation Pass") {
          output += "- " + checkVpFee.getAttribute('value') + "\n";
        }
      }

      if (rpcChangesYes === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcReview.getAttribute('value') + "\n";
      }
      if (rpcQuoted === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcQuoted.getAttribute('value') + "\n";
      }
      if (rpcReflect === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcReflect.getAttribute('value') + "\n";
      }
      if (rpcPromos === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcPromos.getAttribute('value') + "\n";
      }
      if (rpcEffective === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcEffective.getAttribute('value') + "\n";
      }
      if (rpcNext === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcNext.getAttribute('value') + "\n";
      }
      if (rpcTab === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcTab.getAttribute('value') + "\n";
      }
      if (rpcLegacy === true && callType === "Rate Plan Change") {
        output += "- " + checkRpcLegacy.getAttribute('value') + "\n";
      }
      if (cxCheckPayBefore === true && callType === "Promise to Pay") {
        output += "- " + checkPayBefore.getAttribute('value') + "\n";
      }
      if (cxCheckBroken90 === true && callType === "Promise to Pay") {
        output += "- " + checkBroken90.getAttribute('value') + "\n";
      }
      if (cxcheckCash24 === true && callType === "Promise to Pay") {
        output += "- " + checkCash24.getAttribute('value') + "\n";
      }
      if (cxcheck3Business === true && callType === "Promise to Pay") {
        output += "- " + check3Business.getAttribute('value') + "\n";
      }
      if (callType === "Loyalty") {
        output += 'Loyalty Yonyx Details:' + "\n" + loyaltyYonyx + "\n";
      }
      if (callType === "Technical Support") {
        output += 'Tech Support Yonyx Details:' + "\n" + techYonyx + "\n";
      }
      $("#casOutput").val(output)
      return text = output;

    }

    // combine and copy button
    function copyNotes(i, j) {
      $(i).click(function() {
        var copyText = $(j);
        copyText.select();
        document.execCommand("copy");

        var copyBtn = document.getElementById("copy-btn");
        copyBtn.innerHTML = "Copied!"
        setTimeout(function() {
          copyBtn.innerHTML = "Combine"
        }, 5000)
      });
    }

    copyNotes("#copy-btn", "#casOutput");

    // reset button
    function resetForm() {
      document.getElementById("notatorForm").reset();
      $('.temporary').hide();
      $('.warning').hide();
      $('.hidden').hide();
      $(".selectmenu").removeClass("selectedmenu");
      $("#inputVerification").prop('disabled', false);

      const allIcons = $(".material-icons");
      for (var i = 0; i < allIcons.length; i++) {
        allIcons[i].classList.remove("green-icons");
        allIcons[i].classList.remove("red-icons");
        allIcons[i].classList.add("grey-icons");
      }
    }

    //history happens here
    function history() {
      var historyPaste = text;
      var date = new Date();
      date.getDate();
      var time = new Date().toLocaleTimeString();
      var d = date.toString().split(" ").splice(1, 3).join(" ");
      var dateTime = d + " " + time;
      $("#historyPrint").prepend(dateTime + "\n\n" + text + "<hr>");
    }

    function resetHistoryCombo() {
      resetForm();
      history();
    }

    // reset button Prepaid calculator
    function resetPreCalc() {
      document.getElementById("prepaidProration").reset();
    }

    // reset button Postpaid calculator
    function resetPostCalc() {
      document.getElementById("postpaidProration").reset();
    }

    // simple thirds prepaid calculators
    function prepaidThirdsCalc() {
      var prepaidThirdsDays = $("#prepaidThirds").val();
      var prepaidPrice = $("#prepaidItemPrice").val();
      var prepaidAmountToPay = prepaidPrice;
      if (prepaidThirdsDays === "33") {
        prepaidAmountToPay = (prepaidPrice * 0.33).toFixed(2);
      } else if (prepaidThirdsDays === "66") {
        prepaidAmountToPay = (prepaidPrice * 0.66).toFixed(2);
      } else {
        prepaidAmountToPay = prepaidPrice;
      }
      return $("#prepaidThirdsResult").val(prepaidAmountToPay)
    }

    // postpaid calculator
    function postpaidCalc() {
      var oldMrcPrice = $("#inputOldMrcPrice").val();
      var mrcPrice = $("#inputMrcPrice").val();
      var mrcDaysRemaining = $("#inputMrcDaysRemaining").val();
      var postpaidAmountToPay = (((mrcPrice - oldMrcPrice) / 30.4375) * mrcDaysRemaining).toFixed(2);
      return $("#postpaidResult").val(postpaidAmountToPay)
    }


    // Experimental date formatter yikes
    function dateFormatitron(input) {
      var inputDate = input.split('-');
      var monthNum = parseInt(inputDate[1] - 1)
      var dateNum = parseInt(inputDate[2])
      var yearNum = parseInt(inputDate[0])
      var months = ["Jan", "Feb", "March", "April", "May", "June", "July",
        "August", "September", "October", "November", "December"
      ];
      var result = (months[monthNum] + " " + dateNum + ", " + yearNum);
      return result
    }
  </script>
</body>

</html>
